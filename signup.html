<!doctype html>
<html lang="ru">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Not Too Shabby</title>
    
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <link href="css/custom.css" rel="stylesheet">
    <link href="css/login.css" rel="stylesheet">
  </head>

  <body class="d-flex align-items-center py-4">
      
    <main class="form-signin w-100 m-auto">
      <div class="container">
        <div class="row">
        
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="88" stroke="white" fill="#212529" class="mb-3" viewBox="3 1 13 23"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 24H14L16 8H3L5 24M3 8V5.5H16V8ZM9.5 1C12 4 13 7 9.5 7.5ZM10 7C12 6 11 4 9.5 2 8 4 7 6 9 7 9.508 7.213 10 7 10 7ZM12 12Q8 11 8 13 8 15 10 15 13 15 13 18T7 20V19Q12 20 12 18T10 16Q7 16 7 13T12 11V12ZM3.25 7.75H15.75V5.75H3.25V7.75Z"/></svg>
        
          <form action="/auth" method="post">
            <h6 id="errorText" class="text-warning"></h6>
    
            <div class="form-floating">
              <input type="name" class="form-control bg-darker text-white" id="floatingInput" placeholder="Name">
              <label class="text-white" for="floatingInput">Имя пользователя</label>
            </div>
            <div class="form-floating">
              <input type="password" class="form-control bg-darker text-white" id="floatingPassword" placeholder="Password">
              <label class="text-white" for="floatingPassword">Пароль</label>
            </div>
    
            <div class="form-check text-start my-3">
              <input class="form-check-input bg-darker" type="checkbox" value="remember-me" id="flexCheckDefault">
              <label class="form-check-label text-white" for="flexCheckDefault">
                Запомнить меня
              </label>
            </div>
        
            <button id="submitButton" class="btn btn-primary w-100 py-2" type="button">Создать</button>
            <p class="mt-5 mb-3 text-body-secondary">&copy; 2024–2024</p>
          </form>
        
        </div>
      </div>
    </main>

  </body>

  <script src="js/jquery.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>
  
  <script src='js/dbPost.js'></script>
  <script src='js/cookieHell.js'></script>

  <script>
    $(document).ready(function() {
      let userID = getCookie("userID");
      userID = parseInt(userID);

      if (userID) {
        location.href = "home";
        return;
      }

      $("#formContainer").load("parts/loginForm.html");
    });

    document.getElementById("submitButton").onclick = function () {
      var name = document.getElementById("floatingInput").value;
      var password = document.getElementById("floatingPassword").value;

      if (name.length <= 3) {
        document.getElementById("errorText").innerText = "Имя должно быть не короче 3х символов";
        return;
      }

      if (name.password <= 3) {
        document.getElementById("errorText").innerText = "Пароль должен быть не короче 3х символов";
        return
      }

      signup(name, password);
    };
  </script>

</html>